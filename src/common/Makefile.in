INC_DIR = @top_srcdir@/include

SUBNAME = common
SONAME = lib@PACKAGE_NAME@_$(SUBNAME).so
PROG = $(SONAME).@PACKAGE_VERSION@
CFLAGS = @CFLAGS@ -I$(INC_DIR) -I$(INC_DIR)/$(SUBNAME)
LIBS = @LIBS@

SRCS =	char8b.c 	\
	clock.c 	\
	cls.c 		\
	color.c 	\
	drawline.c 	\
	drawrect.c 	\
	fillrect.c 	\
	flshwin.c 	\
	getpix.c 	\
	icol.c 		\
	initfont.c 	\
	inptint.c 	\
	inptflot.c 	\
	locate.c 	\
	openwin.c 	\
	printf.c 	\
	putc.c 		\
	puts.c 		\
	puts1.c 	\
	rand.c 		\
	rgb.c 		\
	rnd.c 		\
	scanf.c 	\
	setcol.c	\
	setbcol.c 	\
	setmode.c 	\
	setpix.c 	\
	srand.c 	\
	main.c 		\
	vscanf.c 	\
	wait.c 		\
	waitnf.c 	\
	keybuf.c 	\
	inkey.c 	\
	gets.c 		\
	filloval.c 	\
	drawstr.c 	\
	slctwin.c 	\
	openvwin.c	\
	copyrct0.c 	\
	copyrct1.c 	\
	readywin.c 	\
	setptn0.c 	\
	drwptn_e.c 	\
	drwptn_r.c 	\
	drwptn_d.c 	\
	test.c

OBJS = $(SRCS:.c=.o)

all: $(PROG) 

$(PROG): $(OBJS)
	@CC@ -shared -Wl,-soname,$(SONAME) -o $@ $(OBJS) $(LIBS)

.c.o:
	@CC@ -fPIC $(DEFS) $(CFLAGS) -c -o $@ $<

clean:
	rm -f $(OBJS)
	rm -f $(PROG)
